# ğŸ¤– AI Finance News Recommendation System

AI ê¸°ë°˜ ê¸ˆìœµ ë‰´ìŠ¤ ì¶”ì²œ ë° ë¶„ì„ ì‹œìŠ¤í…œ - Microsoft Azure OpenAIì™€ Supabaseë¥¼ í™œìš©í•œ ê°œì¸í™”ëœ íˆ¬ì ì •ë³´ í”Œë«í¼

[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](https://github.com/yourusername/MS_AI_FOUNDRY)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#-ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#-í™˜ê²½-ë³€ìˆ˜-ì„¤ì •)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [AI ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜](#-ai-ì¶”ì²œ-ì•Œê³ ë¦¬ì¦˜)
- [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

AI Finance News Recommendation Systemì€ ê°œì¸ íˆ¬ììë“¤ì—ê²Œ ë§ì¶¤í˜• ê¸ˆìœµ ë‰´ìŠ¤ì™€ ì¢…ëª© ë¶„ì„ì„ ì œê³µí•˜ëŠ” AI ê¸°ë°˜ í”Œë«í¼ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ê´€ì‹¬ ì¢…ëª©ì„ í•™ìŠµí•˜ì—¬ ê´€ë ¨ì„± ë†’ì€ ë‰´ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ê³ , OpenAIë¥¼ í™œìš©í•˜ì—¬ ì‹¬ì¸µ ë¶„ì„ ë° ìš”ì•½ì„ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

- **ê°œì¸í™”**: ì‚¬ìš©ì ê´€ì‹¬ì‚¬ ê¸°ë°˜ ë§ì¶¤í˜• ë‰´ìŠ¤ ì¶”ì²œ
- **AI ë¶„ì„**: OpenAIë¥¼ í™œìš©í•œ ì „ë¬¸ì ì¸ íˆ¬ì ì¸ì‚¬ì´íŠ¸
- **ì‹¤ì‹œê°„ì„±**: ìë™í™”ëœ ë‰´ìŠ¤ í¬ë¡¤ë§ ë° ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- **ë‹¤ì–‘ì„±**: ì—¬ëŸ¬ ì†ŒìŠ¤ì—ì„œ ê· í˜•ì¡íŒ ì •ë³´ ì œê³µ

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ğŸ¯ AI ê¸°ë°˜ ë‰´ìŠ¤ ì¶”ì²œ
- ì‚¬ìš©ì ê´€ì‹¬ ì¢…ëª© ê¸°ë°˜ ê°œì¸í™” ì¶”ì²œ
- ê¸°ë³¸ ì ìˆ˜(60%) + AI ë¶„ì„(40%)ì„ ê²°í•©í•œ ì •êµí•œ ê´€ë ¨ì„± í‰ê°€
- ë‹¤ì–‘ì„± ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ê· í˜•ì¡íŒ ë‰´ìŠ¤ ì œê³µ

### 2. ğŸ“Š ì¢…ëª© ë¶„ì„ ë° ì°¨íŠ¸
- ì‹¤ì‹œê°„ ì£¼ê°€ ë°ì´í„° ì¡°íšŒ (Yahoo Finance API)
- ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ (Recharts)
- OpenAI ê¸°ë°˜ ì¢…ëª© ë¶„ì„ ë° íˆ¬ì ì¸ì‚¬ì´íŠ¸

### 3. ğŸ¤– AI ìš”ì•½ ë° ë¶„ì„
- ë‰´ìŠ¤ ìë™ ìš”ì•½
- ì‹œì¥ ì „ë§ ë° íˆ¬ì ì¡°ì–¸
- ë¦¬ìŠ¤í¬ ìš”ì¸ ë¶„ì„

### 4. ğŸ“° ìë™í™”ëœ ë‰´ìŠ¤ ìˆ˜ì§‘
- ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ì¼€ì¤„ëŸ¬ (APScheduler) - 2ì‹œê°„ë§ˆë‹¤ ìë™ ì‹¤í–‰
- ë‹¤ì¤‘ ì†ŒìŠ¤ í¬ë¡¤ë§: News API, Yahoo Finance, Naver News
- ì¸ê¸° ì¢…ëª© ìë™ ì¶”ì¶œ ë° ë‰´ìŠ¤ ìˆ˜ì§‘

### 5. ğŸ‘¤ ì‚¬ìš©ì ê´€ë¦¬
- JWT ê¸°ë°˜ ì¸ì¦ (Access Token + Refresh Token)
- Supabase Auth í†µí•©
- ê´€ì‹¬ ì¢…ëª© ê´€ë¦¬
- ê²€ìƒ‰ ë° ë‰´ìŠ¤ ì—´ëŒ íˆìŠ¤í† ë¦¬

### 6. ğŸŒ ì‹¤ì‹œê°„ ë°ì´í„°
- ì£¼ê°€ ì •ë³´ ì‹¤ì‹œê°„ ì¡°íšŒ
- ê´€ì‹¬ ì¢…ëª© ëª¨ë‹ˆí„°ë§
- ë‰´ìŠ¤ ì•Œë¦¼ (ì˜ˆì •)

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Framework**: FastAPI 0.104+
- **Database**: Supabase (PostgreSQL)
- **AI/ML**:
  - OpenAI(GPT-4.0 mini)
- **Authentication**: JWT (python-jose)
- **Web Scraping**:
  - BeautifulSoup4
  - aiohttp
  - httpx
- **Task Scheduling**: APScheduler
- **Financial Data**:
  - yfinance
  - News API
  - Naver API

### Frontend
- **Framework**: Next.js 16 (React 19)
- **Language**: TypeScript
- **Styling**: Tailwind CSS 4
- **UI Components**:
  - Radix UI
  - Material-UI (MUI)
  - shadcn/ui
- **State Management**: React Hooks
- **Charts**: Recharts
- **HTTP Client**: Axios
- **Authentication**: Supabase Client

### DevOps & Cloud
- **Cloud Platform**: Google Cloud Platform (Cloud Run)
- **Database**: Supabase Cloud
- **AI Service**: OpenAI API
- **Container**: Docker
- **CI/CD**: Google Cloud Build

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (Next.js)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Login   â”‚  â”‚Dashboard â”‚  â”‚  News    â”‚  â”‚  Chart   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTP/REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend (FastAPI)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            API Router Layer                          â”‚   â”‚
â”‚  â”‚  /auth  /news  /analysis  /stocks  /recommendations â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           Service Layer                              â”‚   â”‚
â”‚  â”‚  - News Collection Service                           â”‚   â”‚
â”‚  â”‚  - AI Recommendation Service                         â”‚   â”‚
â”‚  â”‚  - OpenAI Service                                    â”‚   â”‚
â”‚  â”‚  - Stock Service                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Background Scheduler (APScheduler)               â”‚   â”‚
â”‚  â”‚  - News Crawling (Every 2 hours)                     â”‚   â”‚
â”‚  â”‚  - Popular Symbols Extraction                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Supabase DB   â”‚   â”‚    OpenAI       â”‚
    â”‚  - PostgreSQL   â”‚   â”‚    - GPT-4      â”‚
    â”‚  - Auth         â”‚   â”‚    - Analysis   â”‚
    â”‚  - RLS          â”‚   â”‚    - Summary    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ External APIs  â”‚
    â”‚ - News API     â”‚
    â”‚ - Yahoo Financeâ”‚
    â”‚ - Naver News   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Python 3.9+
- Node.js 18+
- Supabase ê³„ì •
- OpenAI API í‚¤
- (ì„ íƒ) OpenAI API í‚¤

### Backend ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/yourusername/MS_AI_FOUNDRY.git
cd MS_AI_FOUNDRY

# 2. Backend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# 3. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 4. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 5. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘ (ì•„ë˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì„¹ì…˜ ì°¸ì¡°)

# 6. Supabase ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì ìš©
# Supabase Dashboardì—ì„œ SQL Editorë¥¼ ì—´ê³ 
# supabase_schema.sql íŒŒì¼ ë‚´ìš© ì‹¤í–‰

# 7. ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

Backend ì„œë²„: `http://localhost:8000`
API ë¬¸ì„œ: `http://localhost:8000/docs`

### Frontend ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# 1. Frontend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd frontend

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
# .env.local íŒŒì¼ ìƒì„± ë° í¸ì§‘
echo "NEXT_PUBLIC_API_URL=http://localhost:8000" > .env.local
echo "NEXT_PUBLIC_SUPABASE_URL=your_supabase_url" >> .env.local
echo "NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key" >> .env.local

# 4. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

Frontend ì„œë²„: `http://localhost:3000`

### Docker ì‹¤í–‰ (ì„ íƒì‚¬í•­)

```bash
# Backend Docker ë¹Œë“œ ë° ì‹¤í–‰
cd backend
docker build -t ai-finance-backend .
docker run -p 8000:8000 --env-file .env ai-finance-backend
```

## ğŸ” í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### Backend (.env)

```bash
# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key

# JWT
SECRET_KEY=your-secret-key-min-32-characters
ALGORITHM=HS256

# Azure OpenAI (ê¶Œì¥)
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_KEY=your-azure-openai-key
AZURE_OPENAI_VERSION=2023-12-01-preview
AZURE_OPENAI_DEPLOYMENT=your-deployment-name

# OpenAI (ëŒ€ì²´ ì˜µì…˜)
OPENAI_API_KEY=sk-your-openai-api-key

# News APIs
NEWS_API_KEY=your-newsapi-key
NAVER_CLIENT_ID=your-naver-client-id
NAVER_CLIENT_SECRET=your-naver-client-secret

# Legacy Database (ì„ íƒì‚¬í•­)
DATABASE_URL=sqlite:///./finance_ai.db
```

### Frontend (.env.local)

```bash
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
```

## ğŸ“š API ë¬¸ì„œ

### Authentication (v2)

#### íšŒì›ê°€ì…
```http
POST /api/v2/auth/register
Content-Type: application/json

{
  "username": "user123",
  "email": "user@example.com",
  "password": "securepassword"
}
```

#### ë¡œê·¸ì¸
```http
POST /api/v2/auth/login
Content-Type: application/x-www-form-urlencoded

username=user123&password=securepassword
```

ì‘ë‹µ:
```json
{
  "access_token": "eyJ...",
  "refresh_token": "eyJ...",
  "token_type": "bearer"
}
```

#### Refresh Token
```http
POST /api/v2/auth/refresh
Authorization: Bearer {refresh_token}
```

### News APIs (v2)

#### ì¶”ì²œ ë‰´ìŠ¤ ì¡°íšŒ
```http
GET /api/v2/recommendations/news/recommended?limit=10
Authorization: Bearer {access_token}
```

ì‘ë‹µ:
```json
{
  "recommendations": [
    {
      "id": 1,
      "title": "NVIDIA Announces New AI Chip",
      "description": "NVIDIA unveiled...",
      "url": "https://...",
      "source": "Reuters",
      "published_at": "2025-01-15T10:30:00Z",
      "relevance_score": 0.92,
      "ai_summary": "..."
    }
  ],
  "total": 20,
  "ai_summary": {
    "summary": "Overall market analysis...",
    "highlights": ["Key point 1", "Key point 2"],
    "market_outlook": "ê¸ì •ì "
  }
}
```

#### ì¢…ëª©ë³„ ë‰´ìŠ¤ ì¡°íšŒ
```http
GET /api/v2/news/stock/{symbol}?ai_mode=true&limit=5
Authorization: Bearer {access_token}
```

### Stock APIs (v1)

#### ì£¼ê°€ ì •ë³´ ì¡°íšŒ
```http
GET /api/v1/stocks/{symbol}
```

#### ì£¼ê°€ ì°¨íŠ¸ ë°ì´í„°
```http
GET /api/v1/stocks/{symbol}/chart?period=1mo&interval=1d
```

### Analysis APIs (v2)

#### AI ì¢…ëª© ë¶„ì„
```http
POST /api/v2/analysis/{symbol}
Authorization: Bearer {access_token}
```

ì „ì²´ API ë¬¸ì„œ: `http://localhost:8000/docs` (Swagger UI)

## ğŸ§  AI ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

ë³¸ ì‹œìŠ¤í…œì€ ë‹¤ì¸µ AI ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

### 1. ë°±ê·¸ë¼ìš´ë“œ ë‰´ìŠ¤ ìˆ˜ì§‘ ë° AI ë¶„ì„

**ì¸ê¸° ì¢…ëª© ì¶”ì¶œ**
```sql
SELECT interest, COUNT(*) as count
FROM user_interests
GROUP BY interest
ORDER BY count DESC
LIMIT 15;
```

**AI ì í•©ì„± ì ìˆ˜ ê³„ì‚°**
- ê¸°ë³¸ ì í•©ì„± ì ìˆ˜ (60%): ì¢…ëª© ë§¤ì¹­, ì‹ ì„ ë„, ì†ŒìŠ¤ ì‹ ë¢°ë„, ê¸ˆìœµ í‚¤ì›Œë“œ ë°€ë„
- AI ë¶„ì„ ì ìˆ˜ (40%): Azure OpenAIë¥¼ í†µí•œ ê´€ë ¨ì„± ë¶„ì„

### 2. ê°œì¸í™” ì¶”ì²œ

**ê°œì¸í™” ì ìˆ˜ ê³µì‹**
```python
personalization_score = (
    base_relevance * 0.4 +           # ê¸°ë³¸ ì í•©ì„± 40%
    symbol_specific_score * 0.3 +    # ì¢…ëª© íŠ¹í™” 30%
    user_interest_priority * 0.2 +   # ì‚¬ìš©ì ê´€ì‹¬ë„ 20%
    freshness_bonus * 0.1            # ì‹ ì„ ë„ 10%
)
```

### 3. ë‹¤ì–‘ì„± ì•Œê³ ë¦¬ì¦˜

íŠ¹ì • ì¢…ëª©ì´ë‚˜ ì†ŒìŠ¤ê°€ ì¶”ì²œì„ ë…ì í•˜ì§€ ì•Šë„ë¡ ê· í˜• ìœ ì§€:

- ì†ŒìŠ¤ ë‹¤ì–‘ì„± (40%)
- ì‹œê°„ëŒ€ ë‹¤ì–‘ì„± (30%)
- ì¹´í…Œê³ ë¦¬ ë‹¤ì–‘ì„± (30%)

**ìµœì¢… ì ìˆ˜**
```python
final_score = (
    personalization_score * 0.85 +
    diversity_bonus * 0.15
)
```

ìì„¸í•œ ì•Œê³ ë¦¬ì¦˜ ì„¤ëª…: [NEWS_RECOMMENDATION_ALGORITHM.md](NEWS_RECOMMENDATION_ALGORITHM.md)

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”

#### auth_users
```sql
- id (VARCHAR, PK)
- username (VARCHAR, UNIQUE)
- email (VARCHAR, UNIQUE)
- hashed_password (VARCHAR)
```

#### user_interests
```sql
- id (SERIAL, PK)
- user_id (VARCHAR, FK)
- interest (VARCHAR)
```

#### news_articles
```sql
- id (SERIAL, PK)
- symbol (VARCHAR)
- title (VARCHAR)
- description (TEXT)
- content (TEXT)
- url (VARCHAR, UNIQUE)
- source (VARCHAR)
- published_at (TIMESTAMP)
- relevance_score (FLOAT)
- base_score (FLOAT)
- ai_score (FLOAT)
- analyzed_at (TIMESTAMP)
```

#### ai_analysis_history
```sql
- id (SERIAL, PK)
- user_id (VARCHAR, FK)
- symbol (VARCHAR)
- analysis_type (VARCHAR)
- analysis_content (TEXT)
- additional_data (JSONB)
- created_at (TIMESTAMP)
```

#### refresh_tokens
```sql
- id (SERIAL, PK)
- user_id (VARCHAR, FK)
- token_hash (VARCHAR, UNIQUE)
- expires_at (TIMESTAMP)
- is_revoked (BOOLEAN)
```

ì „ì²´ ìŠ¤í‚¤ë§ˆ: [backend/supabase_schema.sql](backend/supabase_schema.sql)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
MS_AI_FOUNDRY/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_supabase.py         # ì¸ì¦ API
â”‚   â”‚   â”‚   â”œâ”€â”€ news_supabase.py         # ë‰´ìŠ¤ API
â”‚   â”‚   â”‚   â”œâ”€â”€ recommendations_supabase.py  # ì¶”ì²œ API
â”‚   â”‚   â”‚   â”œâ”€â”€ analysis_supabase.py     # ë¶„ì„ API
â”‚   â”‚   â”‚   â””â”€â”€ stocks.py                # ì£¼ì‹ ë°ì´í„° API
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py                # ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ security.py              # JWT/ì•”í˜¸í™”
â”‚   â”‚   â”‚   â””â”€â”€ auth_supabase.py         # ì¸ì¦ ì˜ì¡´ì„±
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ ai_news_recommendation_service.py  # AI ì¶”ì²œ
â”‚   â”‚   â”‚   â”œâ”€â”€ azure_openai_service.py  # Azure OpenAI
â”‚   â”‚   â”‚   â”œâ”€â”€ background_news_collector.py  # ë‰´ìŠ¤ ìˆ˜ì§‘
â”‚   â”‚   â”‚   â”œâ”€â”€ news_scheduler.py        # ìŠ¤ì¼€ì¤„ëŸ¬
â”‚   â”‚   â”‚   â”œâ”€â”€ stock_service.py         # ì£¼ì‹ ë°ì´í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ refresh_token_service.py # Refresh Token
â”‚   â”‚   â”‚   â””â”€â”€ supabase_*.py           # Supabase ì„œë¹„ìŠ¤ë“¤
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ news_article.py
â”‚   â”‚   â”‚   â””â”€â”€ ai_analysis_history.py
â”‚   â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”‚   â””â”€â”€ supabase_client.py
â”‚   â”‚   â””â”€â”€ main.py                      # FastAPI ì•±
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ supabase_schema.sql              # DB ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ .env
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # ë©”ì¸ í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx
â”‚   â”‚   â”œâ”€â”€ RegisterPage.tsx
â”‚   â”‚   â”œâ”€â”€ MainPage.tsx
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ NewsSection.tsx
â”‚   â”‚   â”œâ”€â”€ StockChart.tsx
â”‚   â”‚   â””â”€â”€ StockAnalysis.tsx
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api.ts                       # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ authService.ts               # ì¸ì¦ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ supabase.ts                  # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api.ts                       # TypeScript íƒ€ì…
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ next.config.js
â”‚   â”œâ”€â”€ tailwind.config.ts
â”‚   â””â”€â”€ .env.local
â”œâ”€â”€ NEWS_RECOMMENDATION_ALGORITHM.md      # ì•Œê³ ë¦¬ì¦˜ ìƒì„¸ ë¬¸ì„œ
â”œâ”€â”€ REFRESH_TOKEN_SETUP.md               # Refresh Token ê°€ì´ë“œ
â””â”€â”€ README.md
```

## ğŸ”„ ì£¼ìš” ì›Œí¬í”Œë¡œìš°

### 1. ë‰´ìŠ¤ ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤

```mermaid
graph LR
    A[ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘] --> B[ì¸ê¸° ì¢…ëª© ì¶”ì¶œ]
    B --> C[ë‰´ìŠ¤ í¬ë¡¤ë§]
    C --> D[AI ì í•©ì„± ë¶„ì„]
    D --> E[DB ì €ì¥]
    E --> F[ë‹¤ìŒ ìˆ˜ì§‘ ëŒ€ê¸°]
```

### 2. ë‰´ìŠ¤ ì¶”ì²œ í”„ë¡œì„¸ìŠ¤

```mermaid
graph LR
    A[ì‚¬ìš©ì ìš”ì²­] --> B[ê´€ì‹¬ì‚¬ ì¡°íšŒ]
    B --> C[DB ë‰´ìŠ¤ ì¡°íšŒ]
    C --> D[ê°œì¸í™” ì ìˆ˜ ê³„ì‚°]
    D --> E[ë‹¤ì–‘ì„± ì•Œê³ ë¦¬ì¦˜]
    E --> F[AI ìš”ì•½ ìƒì„±]
    F --> G[ê²°ê³¼ ë°˜í™˜]
```

## ğŸ”’ ë³´ì•ˆ

- JWT ê¸°ë°˜ ì¸ì¦ (Access Token + Refresh Token)
- Refresh Token í•´ì‹œ ì €ì¥
- Supabase Row Level Security (RLS)
- CORS ì„¤ì •
- ë¹„ë°€ë²ˆí˜¸ í•´ì‹± (bcrypt)
- SQL Injection ë°©ì§€ (ORM ì‚¬ìš©)

## ğŸš¢ ë°°í¬

### Google Cloud Run ë°°í¬

```bash
# 1. í”„ë¡œì íŠ¸ ì„¤ì •
gcloud config set project YOUR_PROJECT_ID

# 2. ë¹Œë“œ ë° ë°°í¬
cd backend
gcloud builds submit --config cloudbuild.yaml

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
gcloud run services update ai-finance-backend \
  --set-env-vars SUPABASE_URL=...,SUPABASE_KEY=...,...
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

```bash
# Backend í…ŒìŠ¤íŠ¸
cd backend
pytest

# Frontend í…ŒìŠ¤íŠ¸
cd frontend
npm test
```

## ğŸ“ í–¥í›„ ê³„íš

- [ ] ì‹¤ì‹œê°„ ë‰´ìŠ¤ ì•Œë¦¼ (WebSocket)
- [ ] ëª¨ë°”ì¼ ì•± ê°œë°œ (React Native)
- [ ] í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ì  ê¸°ëŠ¥
- [ ] ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ (ëŒ“ê¸€, ê³µìœ )
- [ ] ë‹¤êµ­ì–´ ì§€ì›
- [ ] ê³ ê¸‰ ì°¨íŠ¸ ë¶„ì„ ë„êµ¬
- [ ] ë°±í…ŒìŠ¤íŒ… ê¸°ëŠ¥

## ğŸ¤ ê¸°ì—¬

ê¸°ì—¬ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤! Pull Requestë¥¼ ë³´ë‚´ì£¼ì„¸ìš”.

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ“§ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜: your-email@example.com

Project Link: [https://github.com/yourusername/MS_AI_FOUNDRY](https://github.com/yourusername/MS_AI_FOUNDRY)

## ğŸ™ ê°ì‚¬ì˜ ê¸€

- [FastAPI](https://fastapi.tiangolo.com/)
- [Next.js](https://nextjs.org/)
- [Supabase](https://supabase.com/)
- [Microsoft Azure OpenAI](https://azure.microsoft.com/en-us/products/ai-services/openai-service)
- [Tailwind CSS](https://tailwindcss.com/)
- [Radix UI](https://www.radix-ui.com/)

---

Made with â¤ï¸ by AI Finance Team
