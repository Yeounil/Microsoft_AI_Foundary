# ğŸ“Š AI íˆ¬ì ë¶„ì„ í”Œë«í¼ - PDF ë‹¤ìš´ë¡œë“œ ë° ì´ë©”ì¼ êµ¬ë… ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íš

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©í‘œ
AI ê¸°ë°˜ íˆ¬ì ë¶„ì„ ë³´ê³ ì„œë¥¼ ê³ í’ˆì§ˆ PDFë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³ , ì´ë©”ì¼ë¡œ ì •ê¸°ì ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆëŠ” ì™„ì „ ìë™í™”ëœ êµ¬ë… ì‹œìŠ¤í…œ êµ¬ì¶•

### í˜„ì¬ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- **Backend**: FastAPI + Supabase + JWT ì¸ì¦
- **Frontend**: Next.js 14 (App Router) + TypeScript + Zustand + TanStack Query
- **Database**: Supabase (PostgreSQL í´ë¼ìš°ë“œ)
- **AI Services**: OpenAI GPT-5, Anthropic Claude
- **í˜„ì¬ PDF**: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ (html2canvas + jspdf)

---

## ğŸ“ˆ Phase 1: PDF ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ê³ ë„í™” (í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼)

### 1.1 ì„œë²„ì‚¬ì´ë“œ PDF ìƒì„± (FastAPI)
#### ìƒˆë¡œìš´ íŒŒì¼ ìƒì„±
```python
# backend/app/services/pdf_service.py
from reportlab.lib import colors
from reportlab.lib.pagesizes import A4
from reportlab.platypus import SimpleDocTemplate, Table, Paragraph
from weasyprint import HTML, CSS
import asyncio
from typing import Dict, Any

class PDFService:
    def __init__(self):
        self.supabase = get_supabase_client()

    async def generate_report_pdf(
        self,
        report_data: Dict[str, Any],
        template_type: str = "comprehensive"
    ) -> bytes:
        """ë‰´ìŠ¤ ë ˆí¬íŠ¸ PDF ìƒì„±"""
        # 1. HTML í…œí”Œë¦¿ ë Œë”ë§
        # 2. CSS ìŠ¤íƒ€ì¼ ì ìš©
        # 3. PDF ë³€í™˜
        # 4. Supabase Storage ì—…ë¡œë“œ
        pass

    async def generate_chart_pdf(
        self,
        symbol: str,
        chart_data: Dict
    ) -> bytes:
        """ì°¨íŠ¸ ë¶„ì„ PDF ìƒì„±"""
        pass
```

#### API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
```python
# backend/app/api/pdf.py
from fastapi import APIRouter, Depends, HTTPException
from app.services.pdf_service import PDFService

router = APIRouter(prefix="/api/pdf", tags=["PDF"])

@router.post("/generate/{report_id}")
async def generate_pdf(
    report_id: int,
    current_user: User = Depends(get_current_user),
    pdf_service: PDFService = Depends()
):
    """ì„œë²„ì‚¬ì´ë“œ PDF ìƒì„±"""
    # 1. ë ˆí¬íŠ¸ ë°ì´í„° ì¡°íšŒ
    # 2. PDF ìƒì„±
    # 3. Supabase Storage ì—…ë¡œë“œ
    # 4. ë‹¤ìš´ë¡œë“œ URL ë°˜í™˜
    return {"download_url": url, "expires_at": expires}

@router.get("/download/{file_id}")
async def download_pdf(
    file_id: str,
    current_user: User = Depends(get_current_user)
):
    """PDF ë‹¤ìš´ë¡œë“œ"""
    # Supabase Storageì—ì„œ íŒŒì¼ ìŠ¤íŠ¸ë¦¬ë°
    pass
```

### 1.2 Frontend í†µí•©
```typescript
// frontend/lib/pdf-client.ts
export class PDFClient {
  // ì„œë²„ì‚¬ì´ë“œ PDF ìš”ì²­
  async generateServerPDF(reportId: number): Promise<string> {
    const response = await apiClient.post(`/api/pdf/generate/${reportId}`)
    return response.data.download_url
  }

  // í´ë¼ì´ì–¸íŠ¸ì‚¬ì´ë“œ PDF (ê¸°ì¡´ ìœ ì§€)
  async generateClientPDF(element: HTMLElement): Promise<void> {
    // í˜„ì¬ html2canvas + jspdf ë¡œì§ ìœ ì§€
  }

  // í•˜ì´ë¸Œë¦¬ë“œ ì„ íƒ ë¡œì§
  async generatePDF(reportId: number, complexity: 'simple' | 'complex'): Promise<void> {
    if (complexity === 'complex') {
      const url = await this.generateServerPDF(reportId)
      window.open(url, '_blank')
    } else {
      await this.generateClientPDF(document.getElementById('report')!)
    }
  }
}
```

---

## ğŸ“§ Phase 2: ì´ë©”ì¼ ë°œì†¡ ì‹œìŠ¤í…œ êµ¬ì¶•

### 2.1 ì´ë©”ì¼ ì„œë¹„ìŠ¤ êµ¬í˜„ (FastAPI)
```python
# backend/app/services/email_service.py
import resend  # ë˜ëŠ” sendgrid
from jinja2 import Template
from typing import List, Optional

class EmailService:
    def __init__(self):
        self.resend = resend.Resend(api_key=settings.RESEND_API_KEY)
        self.supabase = get_supabase_client()

    async def send_report_email(
        self,
        to: str,
        subject: str,
        report_data: Dict,
        attachment_url: Optional[str] = None
    ):
        """ë¦¬í¬íŠ¸ ì´ë©”ì¼ ë°œì†¡"""
        # 1. í…œí”Œë¦¿ ë Œë”ë§
        html = self.render_template('report', report_data)

        # 2. PDF ì²¨ë¶€ (ìˆì„ ê²½ìš°)
        attachments = []
        if attachment_url:
            pdf_content = await self.download_pdf(attachment_url)
            attachments.append({
                'filename': f'report_{report_data["symbol"]}.pdf',
                'content': pdf_content
            })

        # 3. ì´ë©”ì¼ ë°œì†¡
        response = await self.resend.emails.send({
            'from': 'AI íˆ¬ìë¶„ì„ <noreply@yourdomain.com>',
            'to': to,
            'subject': subject,
            'html': html,
            'attachments': attachments
        })

        # 4. ë°œì†¡ ì´ë ¥ ì €ì¥
        await self.save_email_history(to, subject, response.id)

        return response
```

### 2.2 ì´ë©”ì¼ í…œí”Œë¦¿
```python
# backend/app/templates/email/report.html
<!DOCTYPE html>
<html>
<head>
    <style>
        /* ì´ë©”ì¼ í˜¸í™˜ ì¸ë¼ì¸ CSS */
        .header { background: #1a1a2e; color: white; padding: 20px; }
        .content { padding: 20px; font-family: Arial, sans-serif; }
        .sentiment { display: flex; justify-content: space-around; }
        .positive { color: #10b981; }
        .negative { color: #ef4444; }
    </style>
</head>
<body>
    <div class="header">
        <h1>{{ symbol }} AI ë¶„ì„ ë¦¬í¬íŠ¸</h1>
        <p>{{ generated_at }}</p>
    </div>

    <div class="content">
        <h2>í•µì‹¬ ìš”ì•½</h2>
        <p>{{ executive_summary }}</p>

        <h3>ê°ì„± ë¶„ì„</h3>
        <div class="sentiment">
            <span class="positive">ê¸ì •: {{ positive_count }}</span>
            <span>ì¤‘ë¦½: {{ neutral_count }}</span>
            <span class="negative">ë¶€ì •: {{ negative_count }}</span>
        </div>

        <!-- ë” ë§ì€ ì½˜í…ì¸ ... -->

        <a href="{{ web_report_url }}">ì›¹ì—ì„œ ì „ì²´ ë³´ê³ ì„œ ë³´ê¸°</a>
    </div>
</body>
</html>
```

---

## ğŸ”” Phase 3: êµ¬ë… ê´€ë¦¬ ì‹œìŠ¤í…œ

### 3.1 Supabase í…Œì´ë¸” ìƒì„±
```sql
-- ì´ë©”ì¼ êµ¬ë… í…Œì´ë¸”
CREATE TABLE email_subscriptions (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
    email VARCHAR(255) NOT NULL,
    frequency VARCHAR(20) CHECK (frequency IN ('daily', 'weekly', 'monthly')),
    symbols TEXT[], -- ['AAPL', 'GOOGL', 'TSLA']
    report_types TEXT[], -- ['news', 'technical', 'comprehensive']
    send_time TIME DEFAULT '09:00:00',
    timezone VARCHAR(50) DEFAULT 'Asia/Seoul',
    is_active BOOLEAN DEFAULT true,
    next_send_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ì´ë©”ì¼ ë°œì†¡ ì´ë ¥
CREATE TABLE email_history (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    subscription_id UUID REFERENCES email_subscriptions(id),
    report_ids INTEGER[],
    recipient_email VARCHAR(255),
    subject TEXT,
    status VARCHAR(20) CHECK (status IN ('pending', 'sent', 'failed', 'bounced')),
    sent_at TIMESTAMP WITH TIME ZONE,
    opened_at TIMESTAMP WITH TIME ZONE,
    error_message TEXT,
    retry_count INTEGER DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- RLS ì •ì±… ì„¤ì •
ALTER TABLE email_subscriptions ENABLE ROW LEVEL SECURITY;
ALTER TABLE email_history ENABLE ROW LEVEL SECURITY;

-- ì‚¬ìš©ìëŠ” ìì‹ ì˜ êµ¬ë…ë§Œ ê´€ë¦¬
CREATE POLICY "Users can manage own subscriptions" ON email_subscriptions
    FOR ALL USING (user_id = auth.uid());

CREATE POLICY "Users can view own email history" ON email_history
    FOR SELECT USING (
        subscription_id IN (
            SELECT id FROM email_subscriptions WHERE user_id = auth.uid()
        )
    );
```

### 3.2 êµ¬ë… ê´€ë¦¬ API (FastAPI)
```python
# backend/app/api/subscriptions.py
from fastapi import APIRouter, Depends, HTTPException
from typing import List
from app.models.subscription import Subscription, CreateSubscriptionDto

router = APIRouter(prefix="/api/subscriptions", tags=["Subscriptions"])

@router.get("/", response_model=List[Subscription])
async def get_subscriptions(
    current_user: User = Depends(get_current_user),
    db: SupabaseClient = Depends(get_supabase)
):
    """ì‚¬ìš©ì êµ¬ë… ëª©ë¡ ì¡°íšŒ"""
    subscriptions = await db.table('email_subscriptions')\
        .select('*')\
        .eq('user_id', current_user.id)\
        .execute()
    return subscriptions.data

@router.post("/", response_model=Subscription)
async def create_subscription(
    data: CreateSubscriptionDto,
    current_user: User = Depends(get_current_user),
    db: SupabaseClient = Depends(get_supabase)
):
    """êµ¬ë… ìƒì„±"""
    # 1. êµ¬ë… ì œí•œ í™•ì¸ (ë¬´ë£Œ: 1ê°œ, í”„ë¦¬ë¯¸ì—„: 5ê°œ)
    existing = await db.table('email_subscriptions')\
        .select('count')\
        .eq('user_id', current_user.id)\
        .execute()

    if len(existing.data) >= 1:  # ë¬´ë£Œ ì‚¬ìš©ì ì œí•œ
        raise HTTPException(400, "êµ¬ë… ì œí•œ ì´ˆê³¼")

    # 2. êµ¬ë… ìƒì„±
    subscription = await db.table('email_subscriptions')\
        .insert({
            'user_id': current_user.id,
            'email': data.email,
            'frequency': data.frequency,
            'symbols': data.symbols,
            'report_types': data.report_types,
            'next_send_at': calculate_next_send(data.frequency)
        })\
        .execute()

    return subscription.data[0]

@router.post("/{id}/test-email")
async def send_test_email(
    id: str,
    current_user: User = Depends(get_current_user),
    email_service: EmailService = Depends()
):
    """í…ŒìŠ¤íŠ¸ ì´ë©”ì¼ ë°œì†¡"""
    # ìµœê·¼ ë ˆí¬íŠ¸ë¡œ í…ŒìŠ¤íŠ¸ ì´ë©”ì¼ ë°œì†¡
    pass
```

---

## â° Phase 4: ìŠ¤ì¼€ì¤„ë§ ë° ìë™í™”

### 4.1 ê¸°ì¡´ ìŠ¤ì¼€ì¤„ëŸ¬ í™œìš©
```python
# backend/app/services/news_scheduler.py ìˆ˜ì •
from apscheduler.schedulers.asyncio import AsyncIOScheduler
from app.services.email_service import EmailService
from app.services.pdf_service import PDFService

class NewsScheduler:
    def __init__(self):
        self.scheduler = AsyncIOScheduler()
        self.email_service = EmailService()
        self.pdf_service = PDFService()

    def start(self):
        # ê¸°ì¡´ ë‰´ìŠ¤ í¬ë¡¤ë§ ìŠ¤ì¼€ì¤„
        self.scheduler.add_job(
            self.crawl_news,
            'interval',
            hours=1
        )

        # ìƒˆë¡œìš´ ì´ë©”ì¼ ë°œì†¡ ìŠ¤ì¼€ì¤„ ì¶”ê°€
        self.scheduler.add_job(
            self.process_daily_emails,
            'cron',
            hour=9,  # ë§¤ì¼ ì˜¤ì „ 9ì‹œ
            minute=0
        )

        self.scheduler.add_job(
            self.process_weekly_emails,
            'cron',
            day_of_week='mon',  # ë§¤ì£¼ ì›”ìš”ì¼
            hour=9,
            minute=0
        )

        self.scheduler.start()

    async def process_daily_emails(self):
        """ì¼ì¼ êµ¬ë… ì´ë©”ì¼ ì²˜ë¦¬"""
        # 1. ì˜¤ëŠ˜ ë°œì†¡í•  êµ¬ë… ì¡°íšŒ
        subscriptions = await self.get_pending_subscriptions('daily')

        for sub in subscriptions:
            try:
                # 2. ë ˆí¬íŠ¸ ìƒì„±
                report = await self.generate_report(sub.symbols)

                # 3. PDF ìƒì„±
                pdf_url = await self.pdf_service.generate_report_pdf(report)

                # 4. ì´ë©”ì¼ ë°œì†¡
                await self.email_service.send_report_email(
                    to=sub.email,
                    subject=f"ì¼ì¼ AI íˆ¬ì ë¶„ì„ ë¦¬í¬íŠ¸ - {date.today()}",
                    report_data=report,
                    attachment_url=pdf_url
                )

                # 5. ë‹¤ìŒ ë°œì†¡ì¼ ì—…ë°ì´íŠ¸
                await self.update_next_send_date(sub.id)

            except Exception as e:
                await self.handle_email_failure(sub.id, str(e))
```

---

## ğŸ¨ Phase 5: Frontend êµ¬í˜„

### 5.1 êµ¬ë… ì„¤ì • í˜ì´ì§€
```typescript
// frontend/app/(afterLogin)/settings/subscriptions/page.tsx
'use client'

import { useState } from 'react'
import { useQuery, useMutation } from '@tanstack/react-query'
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'
import { Button } from '@/components/ui/button'
import { Select } from '@/components/ui/select'
import { MultiSelect } from '@/components/ui/multi-select'
import { useToast } from '@/components/ui/use-toast'
import apiClient from '@/lib/api-client'

export default function SubscriptionsPage() {
  const [formData, setFormData] = useState({
    frequency: 'daily',
    symbols: [],
    reportTypes: ['news', 'comprehensive'],
    sendTime: '09:00'
  })

  const { data: subscriptions, refetch } = useQuery({
    queryKey: ['subscriptions'],
    queryFn: () => apiClient.getSubscriptions()
  })

  const createMutation = useMutation({
    mutationFn: (data) => apiClient.createSubscription(data),
    onSuccess: () => {
      toast({ title: 'êµ¬ë…ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤' })
      refetch()
    }
  })

  return (
    <div className="container mx-auto px-4 py-6 max-w-4xl">
      <h1 className="text-2xl font-bold mb-6">ì´ë©”ì¼ êµ¬ë… ê´€ë¦¬</h1>

      {/* êµ¬ë… ìƒì„± í¼ */}
      <Card className="mb-6">
        <CardHeader>
          <CardTitle>ìƒˆ êµ¬ë… ë§Œë“¤ê¸°</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-4">
            {/* ë°œì†¡ ì£¼ê¸° */}
            <div>
              <label className="text-sm font-medium">ë°œì†¡ ì£¼ê¸°</label>
              <Select
                value={formData.frequency}
                onValueChange={(value) => setFormData({...formData, frequency: value})}
              >
                <option value="daily">ë§¤ì¼</option>
                <option value="weekly">ë§¤ì£¼</option>
                <option value="monthly">ë§¤ì›”</option>
              </Select>
            </div>

            {/* ì¢…ëª© ì„ íƒ */}
            <div>
              <label className="text-sm font-medium">ê´€ì‹¬ ì¢…ëª©</label>
              <MultiSelect
                options={availableSymbols}
                value={formData.symbols}
                onChange={(symbols) => setFormData({...formData, symbols})}
                placeholder="ì¢…ëª©ì„ ì„ íƒí•˜ì„¸ìš”"
              />
            </div>

            {/* ë ˆí¬íŠ¸ ìœ í˜• */}
            <div>
              <label className="text-sm font-medium">ë ˆí¬íŠ¸ ìœ í˜•</label>
              <div className="space-y-2">
                <Checkbox
                  checked={formData.reportTypes.includes('news')}
                  onCheckedChange={(checked) => {
                    // ì²´í¬ë°•ìŠ¤ ë¡œì§
                  }}
                >
                  ë‰´ìŠ¤ ë¶„ì„
                </Checkbox>
                <Checkbox>ê¸°ìˆ ì  ë¶„ì„</Checkbox>
                <Checkbox>ì¢…í•© ë ˆí¬íŠ¸</Checkbox>
              </div>
            </div>

            <Button
              onClick={() => createMutation.mutate(formData)}
              disabled={createMutation.isPending}
            >
              êµ¬ë… ìƒì„±
            </Button>
          </div>
        </CardContent>
      </Card>

      {/* êµ¬ë… ëª©ë¡ */}
      <Card>
        <CardHeader>
          <CardTitle>ë‚´ êµ¬ë…</CardTitle>
        </CardHeader>
        <CardContent>
          {subscriptions?.map((sub) => (
            <SubscriptionCard
              key={sub.id}
              subscription={sub}
              onUpdate={refetch}
            />
          ))}
        </CardContent>
      </Card>
    </div>
  )
}
```

### 5.2 Zustand Store
```typescript
// frontend/store/subscription-store.ts
import { create } from 'zustand'
import { persist } from 'zustand/middleware'

interface SubscriptionStore {
  subscriptions: Subscription[]
  activeSubscriptionId: string | null
  setSubscriptions: (subs: Subscription[]) => void
  addSubscription: (sub: Subscription) => void
  removeSubscription: (id: string) => void
  updateSubscription: (id: string, data: Partial<Subscription>) => void
}

export const useSubscriptionStore = create<SubscriptionStore>()(
  persist(
    (set) => ({
      subscriptions: [],
      activeSubscriptionId: null,

      setSubscriptions: (subscriptions) => set({ subscriptions }),

      addSubscription: (subscription) =>
        set((state) => ({
          subscriptions: [...state.subscriptions, subscription]
        })),

      removeSubscription: (id) =>
        set((state) => ({
          subscriptions: state.subscriptions.filter(s => s.id !== id)
        })),

      updateSubscription: (id, data) =>
        set((state) => ({
          subscriptions: state.subscriptions.map(s =>
            s.id === id ? { ...s, ...data } : s
          )
        }))
    }),
    {
      name: 'subscription-storage'
    }
  )
)
```

### 5.3 API Client í™•ì¥
```typescript
// frontend/lib/api-client.ts ì¶”ê°€
class APIClient {
  // ê¸°ì¡´ ì½”ë“œ...

  // êµ¬ë… ê´€ë ¨ API
  async getSubscriptions(): Promise<Subscription[]> {
    const response = await this.axiosInstance.get('/subscriptions')
    return response.data
  }

  async createSubscription(data: CreateSubscriptionDto): Promise<Subscription> {
    const response = await this.axiosInstance.post('/subscriptions', data)
    return response.data
  }

  async updateSubscription(id: string, data: UpdateSubscriptionDto): Promise<Subscription> {
    const response = await this.axiosInstance.put(`/subscriptions/${id}`, data)
    return response.data
  }

  async deleteSubscription(id: string): Promise<void> {
    await this.axiosInstance.delete(`/subscriptions/${id}`)
  }

  async sendTestEmail(id: string): Promise<void> {
    await this.axiosInstance.post(`/subscriptions/${id}/test-email`)
  }

  // PDF ê´€ë ¨ API
  async generateServerPDF(reportId: number): Promise<string> {
    const response = await this.axiosInstance.post(`/pdf/generate/${reportId}`)
    return response.data.download_url
  }
}
```

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (í˜„ì¬ ì•„í‚¤í…ì²˜ ê¸°ë°˜)

### Backend (FastAPI)
- **Framework**: FastAPI (ì´ë¯¸ ì‚¬ìš© ì¤‘)
- **Database**: Supabase (PostgreSQL í´ë¼ìš°ë“œ)
- **Auth**: Supabase Auth + JWT
- **Email**: Resend ë˜ëŠ” SendGrid
- **PDF**: ReportLab ë˜ëŠ” WeasyPrint
- **Scheduler**: APScheduler (news_scheduler.py í™œìš©)
- **Storage**: Supabase Storage

### Frontend (Next.js)
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **State**: Zustand (ì´ë¯¸ ì‚¬ìš© ì¤‘)
- **Data Fetching**: TanStack Query
- **UI**: Radix UI + shadcn/ui
- **PDF**: html2canvas + jspdf (ìœ ì§€) + ì„œë²„ API

---

## ğŸ“… êµ¬í˜„ ì¼ì •

### Week 1: Backend ê¸°ì´ˆ
- Day 1-2: PDF ì„œë¹„ìŠ¤ êµ¬í˜„ (FastAPI)
- Day 3: Supabase í…Œì´ë¸” ìƒì„±
- Day 4-5: ì´ë©”ì¼ ì„œë¹„ìŠ¤ êµ¬í˜„

### Week 2: API ë° ìŠ¤ì¼€ì¤„ëŸ¬
- Day 6-7: êµ¬ë… ê´€ë¦¬ API
- Day 8-9: ìŠ¤ì¼€ì¤„ëŸ¬ í†µí•©
- Day 10: í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…

### Week 3: Frontend êµ¬í˜„
- Day 11-12: êµ¬ë… ì„¤ì • í˜ì´ì§€
- Day 13-14: ë³´ê³ ì„œ í˜ì´ì§€ í†µí•©
- Day 15: UI/UX ê°œì„ 

### Week 4: í†µí•© ë° ë°°í¬
- Day 16-17: í†µí•© í…ŒìŠ¤íŠ¸
- Day 18-19: ì„±ëŠ¥ ìµœì í™”
- Day 20-21: ë°°í¬ ë° ëª¨ë‹ˆí„°ë§

---

## âš ï¸ êµ¬í˜„ ì‹œ ì£¼ì˜ì‚¬í•­

### Supabase íŠ¹í™” ê³ ë ¤ì‚¬í•­
1. **RLS (Row Level Security)** ì •ì±… ì„¤ì • í•„ìˆ˜
2. **Edge Functions** í™œìš© ê°€ëŠ¥ (ì„œë²„ë¦¬ìŠ¤ PDF ìƒì„±)
3. **Realtime** ê¸°ëŠ¥ìœ¼ë¡œ ì´ë©”ì¼ ë°œì†¡ ìƒíƒœ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
4. **Storage** ìš©ëŸ‰ ì œí•œ í™•ì¸ (ë¬´ë£Œ: 1GB)

### FastAPI í†µí•©
1. **ë¹„ë™ê¸° ì²˜ë¦¬** í™œìš© (async/await)
2. **ì˜ì¡´ì„± ì£¼ì…** íŒ¨í„´ ìœ ì§€
3. **Pydantic** ëª¨ë¸ë¡œ ë°ì´í„° ê²€ì¦
4. **CORS** ì„¤ì • í™•ì¸

### ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
1. **ì´ë©”ì¼ ì¸ì¦** í•„ìˆ˜
2. **Rate Limiting** êµ¬í˜„
3. **Supabase Auth** í† í° ê²€ì¦
4. **í™˜ê²½ ë³€ìˆ˜** ê´€ë¦¬ (.env)

---

## ğŸ“Š ì„±ê³µ ì§€í‘œ

### ê¸°ìˆ  ì§€í‘œ
- PDF ìƒì„± ì„±ê³µë¥  > 99%
- ì´ë©”ì¼ ì „ë‹¬ë¥  > 95%
- API ì‘ë‹µ ì‹œê°„ < 500ms
- ì‹œìŠ¤í…œ ì—ëŸ¬ìœ¨ < 0.1%

### ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ
- êµ¬ë… ì „í™˜ìœ¨ > 10%
- ì´ë©”ì¼ ì˜¤í”ˆìœ¨ > 30%
- PDF ë‹¤ìš´ë¡œë“œìœ¨ > 50%
- ì‚¬ìš©ì ë§Œì¡±ë„ > 4.5/5

---

## ğŸš€ MVP êµ¬í˜„ ìˆœì„œ

### Phase 1 (í•„ìˆ˜)
1. âœ… ì„œë²„ì‚¬ì´ë“œ PDF API
2. âœ… ê¸°ë³¸ ì´ë©”ì¼ ë°œì†¡
3. âœ… êµ¬ë… CRUD API

### Phase 2 (í•µì‹¬)
1. âœ… ìŠ¤ì¼€ì¤„ëŸ¬ í†µí•©
2. âœ… êµ¬ë… ì„¤ì • UI
3. âœ… ì´ë©”ì¼ í…œí”Œë¦¿

### Phase 3 (ê°œì„ )
1. âœ… ë°œì†¡ ì´ë ¥ ê´€ë¦¬
2. âœ… í…ŒìŠ¤íŠ¸ ì´ë©”ì¼
3. âœ… ì„±ëŠ¥ ìµœì í™”

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2024ë…„ 11ì›” (í˜„ì¬ ì•„í‚¤í…ì²˜ ë°˜ì˜)*